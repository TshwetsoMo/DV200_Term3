{"ast":null,"code":"import _defineProperty from\"C:/Users/tshwe/OneDrive/Documents/DV200_Term3/thetailored/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/tshwe/OneDrive/Documents/DV200_Term3/thetailored/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/tshwe/OneDrive/Documents/DV200_Term3/thetailored/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useState,useEffect}from'react';import Grid from'@mui/material/Grid';import TextField from'@mui/material/TextField';import Button from'@mui/material/Button';import Axios from'axios';import ProductCard from'../Components/productCard';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Admin(){// Read all the DB Items \nvar _useState=useState(),_useState2=_slicedToArray(_useState,2),readProducts=_useState2[0],setReadProducts=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),renderProducts=_useState4[0],setRenderProducts=_useState4[1];useEffect(function(){Axios.get('http://localhost:5000/api/getclothes/').then(function(res){var data=res.data;var productItem=data.map(function(item){return/*#__PURE__*/_jsx(ProductCard,{Id:item._id,brand:item.brand,name:item.name,size:item.size,price:item.price,desc:item.description,varOne:item.variations.green,varTwo:item.variations.red,varThree:item.variations.blue,editRender:setRenderProducts},item._id);});setReadProducts(productItem);setRenderProducts(false);});},[renderProducts]);var defaultFormVals=[\"brand\",\"name\",\"size\",\"price\",\"description\",\"varOne\",\"varTwo\",\"varThree\"];var _useState5=useState(defaultFormVals),_useState6=_slicedToArray(_useState5,2),formValues=_useState6[0],setFormValues=_useState6[1];var getValues=function getValues(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setFormValues(_objectSpread(_objectSpread({},formValues),{},_defineProperty({},name,value)));};var addProduct=function addProduct(e){e.preventDefault();var stock=+formValues['varOne']+ +formValues['varOne']+ +formValues['varThree'];var payload={brand:formValues['brand'],name:formValues['name'],size:formValues['size'],price:formValues['price'],description:formValues['description'],variations:{green:+formValues['varOne'],red:+formValues['varTwo'],blue:+formValues['varThree']}};Axios.post('http://localhost:5000/api/addclothes',payload).then(function(res){if(res){console.log(\"Item Added\");setRenderProducts(true);}}).catch(function(error){console.log(error);});};return/*#__PURE__*/_jsx(\"div\",{className:\"Addform\",children:/*#__PURE__*/_jsxs(Grid,{item:true,xs:4,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Add A Product\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:addProduct,children:[/*#__PURE__*/_jsx(TextField,{required:true,name:\"brand\",label:\"Product Brand\",fullWidth:true,margin:\"dense\",onChange:getValues}),/*#__PURE__*/_jsx(TextField,{required:true,name:\"name\",label:\"Product Name\",fullWidth:true,margin:\"dense\",onChange:getValues}),/*#__PURE__*/_jsx(TextField,{required:true,name:\"size\",label:\"Product Size\",fullWidth:true,margin:\"dense\",onChange:getValues}),/*#__PURE__*/_jsx(TextField,{required:true,name:\"price\",label:\"Product Price\",fullWidth:true,margin:\"dense\",onChange:getValues}),/*#__PURE__*/_jsx(TextField,{required:true,name:\"description\",label:\"Product Description\",multiline:true,fullWidth:true,rows:3,margin:\"dense\",onChange:getValues}),/*#__PURE__*/_jsx(TextField,{required:true,name:\"varOne\",label:\"In Stock: Green\",margin:\"dense\",onChange:getValues}),/*#__PURE__*/_jsx(TextField,{required:true,name:\"varTwo\",label:\"In Stock: Red\",margin:\"dense\",style:{marginLeft:\"2.5%\",width:\"52.4%\",marginTop:\"8px\",height:\"55px\"},onChange:getValues}),/*#__PURE__*/_jsx(TextField,{required:true,name:\"varThree\",label:\"In Stock: Blue\",margin:\"dense\",onChange:getValues}),/*#__PURE__*/_jsx(Button,{type:\"submit\",style:{marginLeft:\"2.5%\",width:\"52.4%\",marginTop:\"8px\",height:\"55px\"},variant:\"contained\",children:\"Add New Product\"})]})]})});}export default Admin;","map":{"version":3,"names":["React","useState","useEffect","Grid","TextField","Button","Axios","ProductCard","jsx","_jsx","jsxs","_jsxs","Admin","_useState","_useState2","_slicedToArray","readProducts","setReadProducts","_useState3","_useState4","renderProducts","setRenderProducts","get","then","res","data","productItem","map","item","Id","_id","brand","name","size","price","desc","description","varOne","variations","green","varTwo","red","varThree","blue","editRender","defaultFormVals","_useState5","_useState6","formValues","setFormValues","getValues","e","_e$target","target","value","_objectSpread","_defineProperty","addProduct","preventDefault","stock","payload","post","console","log","catch","error","className","children","xs","onSubmit","required","label","fullWidth","margin","onChange","multiline","rows","style","marginLeft","width","marginTop","height","type","variant"],"sources":["C:/Users/tshwe/OneDrive/Documents/DV200_Term3/thetailored/client/src/Pages/admin.js"],"sourcesContent":["import React from 'react';\r\nimport { useState, useEffect } from 'react';\r\nimport Grid from '@mui/material/Grid';\r\nimport TextField from '@mui/material/TextField';\r\nimport Button from '@mui/material/Button';\r\nimport Axios from 'axios';\r\nimport ProductCard from '../Components/productCard'\r\n\r\n\r\nfunction Admin() {\r\n\r\n  // Read all the DB Items \r\n\r\n  const [readProducts, setReadProducts] = useState();\r\n  const [renderProducts, setRenderProducts] = useState(false);\r\n\r\n  useEffect(()=>{\r\n    Axios.get('http://localhost:5000/api/getclothes/')\r\n    .then(res =>{\r\n      let data = res.data;\r\n      const productItem = data.map((item)=> <ProductCard key={item._id} Id={item._id} brand={item.brand} name={item.name} size={item.size}  price={item.price} desc={item.description} varOne={item.variations.green} varTwo={item.variations.red} varThree={item.variations.blue} editRender={setRenderProducts}/>);\r\n      setReadProducts(productItem);\r\n      setRenderProducts(false);\r\n    });\r\n  }, [renderProducts]);\r\n\r\n\r\nlet defaultFormVals = [\"brand\", \"name\", \"size\", \"price\", \"description\", \"varOne\", \"varTwo\", \"varThree\"];\r\n\r\nconst [formValues, setFormValues] = useState(defaultFormVals);\r\n\r\nconst getValues = (e) =>{\r\n  const { name, value } = e.target;\r\n  setFormValues({ ...formValues, [name]: value });\r\n}\r\n\r\nconst addProduct = (e) => {\r\n    e.preventDefault();\r\n\r\n    var stock = +formValues['varOne'] + +formValues['varOne'] + +formValues['varThree'];\r\n\r\n    let payload = {\r\n        brand: formValues['brand'],\r\n        name: formValues['name'],\r\n        size: formValues['size'],\r\n        price: formValues['price'],\r\n        description: formValues['description'] ,\r\n        variations: { \r\n            green: +formValues['varOne'],\r\n            red:  +formValues['varTwo'],\r\n            blue: +formValues['varThree'],\r\n        }\r\n  }\r\n\r\n  Axios.post('http://localhost:5000/api/addclothes', payload)\r\n  .then((res)=> {\r\n    if(res){\r\n      console.log(\"Item Added\"); \r\n      setRenderProducts(true);\r\n    }\r\n  })\r\n  .catch(function (error) {\r\n    console.log(error);\r\n  });\r\n\r\n }\r\n\r\n  return (\r\n    <div className=\"Addform\">\r\n      {/* <Grid container spacing={5}>\r\n      <Grid item xs={8}>\r\n        <h1>The FlipFlop Shop: Products</h1>\r\n        <Grid container spacing={2}>\r\n            {readProducts}\r\n        </Grid>\r\n      </Grid> */}\r\n      <Grid item xs={4}>\r\n        <h1>Add A Product</h1>\r\n        <form onSubmit={addProduct}>\r\n            <TextField required name=\"brand\" label=\"Product Brand\" fullWidth margin=\"dense\" onChange={getValues} />\r\n            <TextField required name=\"name\" label=\"Product Name\" fullWidth margin=\"dense\" onChange={getValues} />\r\n            <TextField required name=\"size\" label=\"Product Size\" fullWidth margin=\"dense\" onChange={getValues} />\r\n            <TextField required name=\"price\" label=\"Product Price\" fullWidth margin=\"dense\" onChange={getValues}/>\r\n            <TextField required name=\"description\" label=\"Product Description\" multiline fullWidth rows={3} margin=\"dense\" onChange={getValues}/>\r\n            <TextField required name=\"varOne\" label=\"In Stock: Green\" margin=\"dense\" onChange={getValues} />\r\n            <TextField required name=\"varTwo\" label=\"In Stock: Red\" margin=\"dense\" style={{marginLeft: \"2.5%\", width: \"52.4%\", marginTop: \"8px\", height: \"55px\"}} onChange={getValues}/>\r\n            <TextField required name=\"varThree\" label=\"In Stock: Blue\" margin=\"dense\" onChange={getValues}  />\r\n            <Button type=\"submit\" style={{marginLeft: \"2.5%\", width: \"52.4%\", marginTop: \"8px\", height: \"55px\"}} variant=\"contained\">Add New Product</Button>\r\n        </form>\r\n      </Grid>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Admin;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}